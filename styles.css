/* === THEME VARIABLES === */
    :root {
      --color-bg: #0b0c10;
      --color-bg-alt: #181a22;
      --color-navbar: rgba(15, 32, 39, 0.85);
      --color-primary: #00fff7;
      --color-primary-glow: #00fff7cc;
      --color-secondary: #cccccc;
      --color-accent: #232946;
      --color-border: #00FFF7;
      --color-link: #00fff7;
      --color-link-hover: #fff;
      --color-btn-bg: rgba(255,255,255,0.15);
      --color-btn-hover: rgba(255,255,255,0.3);
      --color-shadow: 0 2px 8px var(--color-primary-glow);
      --color-card-bg: #232946cc;
      --color-card-border: #00FFF71A;
      --color-card-shadow: 0 4px 24px 0 #00FFF733;
      --color-hero-gradient: linear-gradient(120deg, #232946 0%, #0b0c10 100%);
      --color-focus: #00fff7;
      --color-footer-bg: #181a22;
      --color-footer-text: #cccccc;
      --color-footer-link: #00fff7;
      --color-footer-link-hover: #fff;
      --transition: 0.3s cubic-bezier(.4,0,.2,1);
      --glow: 0 0 16px 0 var(--color-primary-glow);
    }
    /* === NEBULA THEME === */
    .theme-nebula {
      --color-bg: #1a1832;
      --color-bg-alt: #2a225a;
      --color-navbar: rgba(34, 20, 60, 0.85);
      --color-primary: #a18fff;
      --color-primary-glow: #a18fffcc;
      --color-secondary: #e0e0ff;
      --color-accent: #3a2d5c;
      --color-border: #a18fff;
      --color-link: #a18fff;
      --color-link-hover: #fff;
      --color-btn-bg: rgba(161,143,255,0.15);
      --color-btn-hover: rgba(161,143,255,0.3);
      --color-shadow: 0 2px 8px #a18fffcc;
      --color-card-bg: #3a2d5ccc;
      --color-card-border: #a18fff1A;
      --color-card-shadow: 0 4px 24px 0 #a18fff33;
      --color-hero-gradient: linear-gradient(120deg, #3a2d5c 0%, #1a1832 100%);
      --color-focus: #a18fff;
      --color-footer-bg: #2a225a;
      --color-footer-text: #e0e0ff;
      --color-footer-link: #a18fff;
      --color-footer-link-hover: #fff;
      --glow: 0 0 16px 0 #a18fffcc;
    }
    /* === ECLIPSE THEME === */
    .theme-eclipse {
      --color-bg: #181818;
      --color-bg-alt: #232323;
      --color-navbar: rgba(24, 24, 24, 0.92);
      --color-primary: #ffb347;
      --color-primary-glow: #ffb347cc;
      --color-secondary: #eaeaea;
      --color-accent: #232323;
      --color-border: #ffb347;
      --color-link: #ffb347;
      --color-link-hover: #fff;
      --color-btn-bg: rgba(255,179,71,0.15);
      --color-btn-hover: rgba(255,179,71,0.3);
      --color-shadow: 0 2px 8px #ffb347cc;
      --color-card-bg: #232323cc;
      --color-card-border: #ffb3471A;
      --color-card-shadow: 0 4px 24px 0 #ffb34733;
      --color-hero-gradient: linear-gradient(120deg, #232323 0%, #181818 100%);
      --color-focus: #ffb347;
      --color-footer-bg: #232323;
      --color-footer-text: #eaeaea;
      --color-footer-link: #ffb347;
      --color-footer-link-hover: #fff;
      --glow: 0 0 16px 0 #ffb347cc;
    }
    /* === BASE STYLES USING VARIABLES === */
    body {
      background: var(--color-bg);
      color: var(--color-secondary);
      font-family: Arial, sans-serif;
      min-height: 100vh;
      margin: 0;
      overflow-x: hidden;
      transition: background var(--transition), color var(--transition);
    }

    /* Minimal custom utility classes for theme and branding */
    .themed-shadow {
      box-shadow: 0 2px 8px 0 var(--color-primary-glow), 0 1px 4px 0 var(--color-primary-glow);
      transition: box-shadow 0.3s cubic-bezier(.4,0,.2,1);
    }
    .themed-border {
      border-color: var(--color-primary) !important;
      transition: border-color 0.3s cubic-bezier(.4,0,.2,1);
    }
    .themed-btn {
      border-color: var(--color-primary) !important;
      color: var(--color-primary) !important;
      background: var(--color-btn-bg) !important;
      box-shadow: 0 0 12px 0 var(--color-primary-glow) !important;
      transition: background 0.3s, color 0.3s, border-color 0.3s, box-shadow 0.3s;
    }
    .themed-btn:hover, .themed-btn:focus {
      background: var(--color-btn-hover) !important;
      color: var(--color-link-hover) !important;
      box-shadow: 0 0 11px 0 var(--color-primary-glow) !important;
    }
    .themed-heading {
      color: var(--color-primary) !important;
      text-shadow: 0 2px 8px var(--color-primary-glow);
      transition: color 0.3s, text-shadow 0.3s;
    }
    .themed-link {
      color: var(--color-primary) !important;
      transition: color 0.3s;
    }
    .themed-link:hover, .themed-link:focus {
      color: var(--color-link-hover) !important;
    }

    /* Theme-aware search bar text color */
    .themed-search-input {
      color: var(--color-primary) !important;
    }

    /* --- NAVBAR LAYOUT & RESPONSIVENESS (IMPROVED & FIXED) --- */
    .navbar-bg {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: nowrap;
      padding-left: 1.5rem;
      padding-right: 1.5rem;
      min-height: 80px;
      width: 100%;
      box-sizing: border-box;
    }
    .navbar-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      max-width: 100%;
      gap: 2rem;
      border-radius: 1rem;
    }
    .site-logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      flex-shrink: 0;
      min-width: 0;
    }
    .navbar-search-theme {
      display: flex;
      align-items: center;
      gap: 1rem;
      min-width: 0;
      flex: 1 1 0;
      max-width: 480px;
    }
    .navbar-search-theme form {
      flex: 1 1 0;
      min-width: 220px;
      max-width: 420px;
      margin-right: 0.5rem;
    }
    .navbar-links {
      display: flex;
      align-items: center;
      gap: 2rem;
      margin: 0;
      flex: 1 1 auto;
      justify-content: flex-end;
      min-width: 0;
      /* Prevents extra right space */
    }
    .navbar-links li {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      align-items: center;
      position: relative;
    }
    .navbar-links a {
      display: inline-block;
      padding: 0.25rem 0.9rem;
      line-height: 1.2;
      font-size: 1.08rem;
      font-family: inherit;
      font-weight: 500;
      vertical-align: middle;
      transition: color 0.2s;
      border-radius: 9999px;
      position: relative;
      z-index: 1;
      background: transparent;
    }
    .navbar-links a::after {
      content: "";
      display: block;
      position: absolute;
      left: 10%;
      right: 10%;
      bottom: -0.4em;
      height: 2px;
      background: var(--color-primary);
      border-radius: 2px;
      opacity: 0;
      transform: scaleX(0);
      transition: opacity 0.18s, transform 0.18s;
      pointer-events: none;
    }
    .navbar-links a:hover::after,
    .navbar-links a:focus::after {
      opacity: 1;
      transform: scaleX(1);
    }
    .navbar-links a:focus {
      outline: 2px solid var(--color-primary);
      outline-offset: 2px;
    }
    .theme-switcher-btn {
      margin-left: 0.5rem;
      margin-right: 0;
      align-self: center;
      background: var(--color-btn-bg);
      border: 2px solid var(--color-primary);
      color: var(--color-primary);
      border-radius: 9999px;
      padding: 0.5rem 1.2rem;
      font-family: 'Orbitron', Arial, sans-serif;
      font-weight: bold;
      cursor: pointer;
      transition: background var(--transition), color var(--transition), border-color var(--transition), box-shadow var(--transition);
      box-shadow: var(--glow);
      z-index: 2;
      /* Prevents overlap with Home link */
    }
    .theme-switcher-btn:hover, .theme-switcher-btn:focus {
      background: var(--color-btn-hover);
      color: var(--color-link-hover);
      box-shadow: 0 0 20px 0 var(--color-primary-glow);
    }
    #mobile-menu-button {
      margin-left: 1rem;
      align-self: center;
    }

    /* Remove all hamburger/mobile menu overlay styles */

    /* Responsive navbar layout for hamburger and theme switcher */
    @media (min-width: 768px) and (max-width: 1024px) {
      .navbar-inner {
        display: flex !important;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
      }
      .site-logo {
        order: 1;
      }
      form[role="search"] {
        order: 2;
        display: flex !important;
      }
      .theme-switcher-order {
        order: 3;
      }
      #menu-btn {
        order: 4;
        display: block !important;
      }
      .navbar-links {
        display: none !important;
      }
    }
    @media (max-width: 767px) {
      .navbar-inner {
        display: none !important;
      }
      .mobile-navbar {
        display: flex !important;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
      }
      .mobile-navbar > a {
        order: 1;
      }
      .mobile-navbar > .flex-1 {
        order: 2;
      }
      #menu-btn-mobile {
        order: 3;
        display: block !important;
      }
    }
    @media (min-width: 1025px) {
      #menu-btn,
      #menu-btn-mobile {
        display: none !important;
      }
      .navbar-links {
        display: flex !important;
      }
    }

    /* --- Reduce animation/CPU load for cosmic background --- */
    .fractal-bg {
      opacity: 0.12;
      will-change: auto;
    }

    /* --- Free Tools & Resources CARD GRID (subtle shadow, matching blog/project cards) --- */
    .tools-card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
      gap: 2.2rem;
      margin-bottom: 2rem;
      width: 100%;
    }
    .tool-card {
      background: rgba(35,41,70,0.80); /* Match blog/project card bg */
      border: 2px solid var(--color-card-border);
      border-radius: 1.25rem;
      box-shadow: 0 4px 18px 0 #0006; /* Subtle shadow only behind card */
      padding: 2.2rem 1.7rem 1.7rem 1.7rem;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: flex-start;
      min-height: 220px;
      min-width: 0;
      transition:
        transform 0.18s cubic-bezier(.4,0,.2,1),
        box-shadow 0.18s cubic-bezier(.4,0,.2,1),
        background 0.18s cubic-bezier(.4,0,.2,1),
        border-color 0.18s cubic-bezier(.4,0,.2,1);
      position: relative;
      overflow: hidden;
      cursor: pointer;
      z-index: 1;
      color: #cccccc; /* Match blog/project card text */
    }
    .tool-card .tool-icon {
      font-size: 2.7rem;
      margin-bottom: 0.7rem;
      color: var(--color-primary);
      filter: drop-shadow(0 2px 8px var(--color-primary-glow));
      background: linear-gradient(120deg, var(--color-primary) 60%, var(--color-accent) 100%);
      --webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 12px var(--color-primary-glow);
    }
    .tool-card h3 {
      font-size: 1.35rem;
      font-weight: bold;
      color: var(--color-primary);
      margin-bottom: 0.5rem;
      font-family: 'Orbitron', Arial, sans-serif;
      letter-spacing: 0.04em;
      text-shadow: 0 2px 8px var(--color-primary-glow);
      line-height: 1.2;
    }
    .tool-card p {
      color: #cccccc;
      margin-bottom: 1.2rem;
      font-size: 1.05rem;
      line-height: 1.6;
      flex: 1 1 auto;
      opacity: 0.92;
      font-family: 'Poppins', Arial, sans-serif;
    }
    .tool-card .tool-btn {
      display: inline-block;
      padding: 0.7rem 1.7rem;
      border-radius: 9999px;
      background: var(--color-btn-bg);
      border: 2px solid var(--color-primary);
      color: var(--color-primary);
      font-family: 'Orbitron', Arial, sans-serif;
      font-weight: bold;
      font-size: 1rem;
      letter-spacing: 0.03em;
      box-shadow: none;
      transition: background var(--transition), color var(--transition), border-color var(--transition), box-shadow var(--transition);
      text-align: center;
      margin-top: auto;
      margin-bottom: 0.2rem;
    }
    .tool-card .tool-btn:hover, .tool-card .tool-btn:focus {
      background: var(--color-btn-hover);
      color: var(--color-link-hover);
      border-color: var(--color-primary);
      text-decoration: none;
      box-shadow: 0 2px 12px 0 var(--color-primary-glow);
    }

    /* --- Theme-based hover effect for tool cards --- */
    .tool-card:hover, .tool-card:focus-within {
      transform: translateY(-6px) scale(1.035);
      border-color: var(--color-primary);
      box-shadow: 0 8px 32px 0 #0008;
      background: rgba(35,41,70,0.92);
    }
    .theme-nebula .tool-card {
      background: rgba(58,45,92,0.80);
      color: #e0e0ff;
    }
    .theme-nebula .tool-card h3 { color: #a18fff; text-shadow: 0 2px 8px #a18fffcc; }
    .theme-nebula .tool-card:hover, .theme-nebula .tool-card:focus-within {
      background: rgba(58,45,92,0.92);
      border-color: #a18fff;
      box-shadow: 0 8px 32px 0 #0008;
    }
    .theme-eclipse .tool-card {
      background: rgba(35,35,35,0.80);
      color: #eaeaea;
    }
    .theme-eclipse .tool-card h3 { color: #ffb347; text-shadow: 0 2px 8px #ffb347cc; }
    .theme-eclipse .tool-card:hover, .theme-eclipse .tool-card:focus-within {
      background: rgba(35,35,35,0.92);
      border-color: #ffb347;
      box-shadow: 0 8px 32px 0 #0008;
    }

    /* --- Responsive for tools grid --- */
    @media (max-width: 1100px) {
      .tools-card-grid {
        gap: 1.5rem;
      }
      .tool-card {
        padding: 1.5rem 1rem 1rem 1rem;
        min-height: 200px;
      }
    }
    @media (max-width: 900px) {
      .tools-card-grid {
        gap: 1.1rem;
      }
      .tool-card {
        padding: 1.1rem 0.7rem 0.9rem 0.7rem;
      }
    }
    @media (max-width: 700px) {
      .tools-card-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      .tool-card {
        min-width: 0;
        width: 100%;
        padding: 1rem 0.5rem 0.7rem 0.5rem;
      }
    }
    @media (max-width: 400px) {
      .tool-card h3 {
        font-size: 1.08rem;
      }
      .tool-card p {
        font-size: 0.98rem;
      }
      .tool-card .tool-btn {
        font-size: 0.95rem;
        padding: 0.6rem 1.1rem;
      }
    }

    /* --- Responsive: mobile header row layout --- */
    @media (max-width: 700px) {
      .navbar-inner {
        display: none !important;
      }
      .header-mobile-row {
        display: flex !important;
        width: 100%;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
        padding: 0.5rem 0.5rem;
      }
      .header-mobile-row .site-logo {
        flex: 0 0 auto;
        justify-content: flex-start;
      }
      .header-mobile-row .theme-switcher-btn {
        margin: 0 auto;
        flex: 1 1 auto;
        display: flex;
        justify-content: center;
      }
      .header-mobile-row #mobile-menu-button-2 {
        margin-left: 0;
        flex: 0 0 auto;
        justify-content: flex-end;
      }
    }
    @media (min-width: 701px) {
      .header-mobile-row {
        display: none !important;
      }
      .navbar-inner {
        display: flex !important;
      }
    }

    /* === NEBULA DRIFT BACKGROUND === */
    .nebula-drift-bg {
      position: fixed;
      z-index: 0;
      inset: 0;
      pointer-events: none;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      background: radial-gradient(ellipse at 60% 40%, #1a1832 0%, #232946 60%, #0b0c10 100%);
    }
    .nebula-drift-layer1,
    .nebula-drift-layer2,
    .nebula-drift-layer3 {
      position: absolute;
      width: 180vw;
      height: 180vw;
      left: 50%; top: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none;
      opacity: 0.45;
      border-radius: 50%;
      filter: blur(60px);
      mix-blend-mode: lighten;
      z-index: 1;
    }
    .nebula-drift-layer1 {
      background: radial-gradient(ellipse at 40% 60%, #00fff7 0%, #1a1832 80%);
      animation: nebulaDrift1 22s linear infinite alternate;
    }
    .nebula-drift-layer2 {
      background: radial-gradient(ellipse at 70% 30%, #a18fff 0%, #232946 80%);
      opacity: 0.32;
      animation: nebulaDrift2 28s linear infinite alternate;
    }
    .nebula-drift-layer3 {
      background: radial-gradient(ellipse at 60% 80%, #3a2d5c 0%, #232946 80%);
      opacity: 0.22;
      animation: nebulaDrift3 36s linear infinite alternate;
    }
    @keyframes nebulaDrift1 {
      0% { transform: translate(-50%, -50%) scale(1) rotate(0deg);}
      100% { transform: translate(-48%, -52%) scale(1.08) rotate(12deg);}
    }
    @keyframes nebulaDrift2 {
      0% { transform: translate(-50%, -50%) scale(1.1) rotate(0deg);}
      100% { transform: translate(-52%, -48%) scale(1.18) rotate(-10deg);}
    }
    @keyframes nebulaDrift3 {
      0% { transform: translate(-50%, -50%) scale(1.05) rotate(0deg);}
      100% { transform: translate(-49%, -51%) scale(1.13) rotate(8deg);}
    }

    /* === AURORA CASCADE BACKGROUND === */
    .aurora-cascade-bg {
      position: fixed;
      z-index: 0;
      inset: 0;
      pointer-events: none;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      background: linear-gradient(120deg, #0b0c10 0%, #181a22 100%);
    }
    .aurora-cascade-layer1,
    .aurora-cascade-layer2,
    .aurora-cascade-layer3 {
      position: absolute;
      width: 160vw;
      height: 60vw;
      left: 50%; top: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none;
      opacity: 0.38;
      border-radius: 40% 60% 60% 40% / 60% 40% 60% 40%;
      filter: blur(48px);
      mix-blend-mode: lighten;
      z-index: 1;
    }
    .aurora-cascade-layer1 {
      background: linear-gradient(120deg, #00fff7 0%, #3ddbd9 80%);
      animation: auroraCascade1 18s ease-in-out infinite alternate;
    }
    .aurora-cascade-layer2 {
      background: linear-gradient(100deg, #a18fff 0%, #00fff7 100%);
      opacity: 0.28;
      animation: auroraCascade2 24s ease-in-out infinite alternate;
    }
    .aurora-cascade-layer3 {
      background: linear-gradient(140deg, #ff5efc 0%, #00fff7 100%);
      opacity: 0.18;
      animation: auroraCascade3 32s ease-in-out infinite alternate;
    }
    @keyframes auroraCascade1 {
      0% { transform: translate(-50%, -50%) scaleX(1) scaleY(1) rotate(0deg);}
      100% { transform: translate(-48%, -52%) scaleX(1.12) scaleY(1.08) rotate(8deg);}
    }
    @keyframes auroraCascade2 {
      0% { transform: translate(-50%, -50%) scaleX(1.08) scaleY(1.05) rotate(0deg);}
      100% { transform: translate(-52%, -48%) scaleX(1.18) scaleY(1.13) rotate(-10deg);}
    }
    @keyframes auroraCascade3 {
      0% { transform: translate(-50%, -50%) scaleX(1.05) scaleY(1.1) rotate(0deg);}
      100% { transform: translate(-49%, -51%) scaleX(1.13) scaleY(1.18) rotate(12deg);}
    }

    /* === COSMIC CIRCUITRY BACKGROUND === */
    .cosmic-circuitry-bg {
      position: fixed;
      z-index: 0;
      inset: 0;
      pointer-events: none;
      width: 100vw;
      height: 100vh;
      background: #0b0c10;
      overflow: hidden;
    }
    .cosmic-circuitry-stars {
      position: absolute;
      inset: 0;
      width: 100vw;
      height: 100vh;
      z-index: 1;
      pointer-events: none;
    }
    .cosmic-circuitry-canvas {
      position: absolute;
      inset: 0;
      width: 100vw;
      height: 100vh;
      z-index: 2;
      pointer-events: none;
      opacity: 0.7;
    }

    /* --- Fix border-radius for navbar and mobile menu --- */
    .navbar-bg,
    .navbar-inner {
      border-radius: 5px !important;
    }